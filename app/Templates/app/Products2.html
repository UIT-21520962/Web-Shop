{% load static %}
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href= "{% static 'app/css/style.css' %}" rel ="stylesheet"/>
    <link href= "{% static 'app/css/mobile.css' %}" rel ="stylesheet" media="screen and (max-width: 968px)"/>
    <!--js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script><link href= "{% static 'app/js/index.js' %}"> </script>
    <script type = "text/javascript" >
      var user = '{{request.user}}'
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thời Trang SecondHand</title>
    
    <!-- Links of CSS files -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css"
      media="screen and (max-width: 968px)">

    <!-- Font Awesome CDN -->
    <link rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
      integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk"
      crossorigin="anonymous">

    <!-- Google font link -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&family=Poppins:wght@100;200;300;400;600;700&display=swap"
      rel="stylesheet">

    <!-- JQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- OwlCarousel2 CDN -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  </head>
    <body>
      <script>
        function timkiem() {
          var input, filter, ul, li, div, a, i, txtValue;
      
          // Lấy giá trị người dùng nhập vào từ ô input
          input = document.getElementById("search");
          filter = input.value.toUpperCase();  // Chuyển từ khóa tìm kiếm thành chữ hoa
          ul = document.getElementById("myUL");  // Lấy danh sách ul
          li = ul.getElementsByTagName("li");  // Lấy tất cả các thẻ li trong ul
      
          // Lặp qua tất cả các phần tử li trong danh sách
          for (i = 0; i < li.length; i++) {
              // Lấy thẻ a bên trong thẻ li
              a = li[i].getElementsByClassName("card-title")[0];  // Đảm bảo đúng class hoặc ID của thẻ chứa tên sản phẩm
              txtValue = a.textContent || a.innerText;  // Lấy nội dung text từ thẻ a
      
              // Kiểm tra nếu giá trị trong thẻ a chứa từ khóa tìm kiếm
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  li[i].style.display = "";  // Hiển thị các mục phù hợp
              } else {
                  li[i].style.display = "none";  // Ẩn các mục không phù hợp
              }
          }
      }
        function viewcourse() {
          var newview = "overflow: visible";
          var newsize = "height: auto";
          document.getElementById("course-list").style.cssText = newview;
          document.getElementById("course-list").style.cssText = newsize;
          document.getElementById("btn-view").style.display = 'none';
        }


      </script>
      <!-- Header Section Started -->

      <section class="header1">

        <!-- Navigation Section Started -->

        <nav>
          <div class="logo" id="top">
            <a href="home"> <img> </a>
          </div>
  
          <label for="btn" class="icon">
            <span class="fa fa-bars"></span>
          </label>
          <input type="checkbox" name id="btn">
  
          <ul>
            <li> <a href="home"><i> </i> Trang chủ </a>
            </li>
            <li>
  
              <label for="btn-1" class="show"><i class="fas fa-book"> </i> Sản phẩm
                <i class="fas fa-caret-down"></i></label>
  
              <a href="Products"><i > </i> Sản phẩm </a>
              <ul>
                <li><a href="Products1"> Quần Áo 2Hand</a></li>
                <li><a href="Products2"> Bánh </a></li>
              </ul>
              
              <input type="checkbox" id="btn-1">
            </li>
            <li>
              <label for="btn-10" class="show"><i> </i>
                Về chúng tôi <i
                  class="fas fa-caret-down"></i></label>
  
              <a href="#"><i> </i> Who are we? </a>
              <ul>
                <li><a href=""> Câu Chuyện </a></li>
                <li><a href=""> Liên hệ</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <!-- Navigation Section Ended -->


        <!-- Header text Section Started -->
        
        {% block main-content %}
        <h1 style="text-align: center; color:white; padding-top: 40px"> Tất Cả Sản Phẩm </h1>
        <div class="search-course">
          <input style="color:white" id="search" type="text" autocomplete="off" placeholder="Tìm Kiếm Sản Phẩm">
          <button class="btn-search" onclick="timkiem()" , type="submit"><i class='fas fa-search fa-lg'
              style='color:white'></i></button>
        </div>
        <!-- Header text Section Ended -->

      </section>
      <!-- Header Section Ended -->                    
      <section class="content">
        <div class="course-list" id="course-list">
          <ul id="myUL">
            {% for product2 in products2 %}
            <li class="container">
              <div class="card1 course-card">
                <figure class="card-banner">
                  <img src="{{ product2.ImageURL }}" loading="lazy" alt="{{ product2.name }}">
                </figure>
                <div class="card-content">
                  <p class="title-lg card-price"><strong>{{ product2.price }}đ</strong></p>
                  <h3 class="title-lg card-title"><strong>{{ product2.name }}</strong></h3>
                  <span class="principle1">{{ product2.description }}</span>
                </div>
                <a class="btn btn-tertiary add-btn update-mycourse" href="ProductOrders">Mua</a>
              </div>
            </li>
            {% endfor %}
          </ul>
          <div class="view-all-container">
            <a class="btn btn-view-all" onclick="viewcourse()">Xem Tất Cả Sản Phẩm</a>
          </div>
        </div>
      
        <div class="sidebar">
          <div class="advertising-banners">
            {% for banner in banners %}
              <div class="banner">
                <img src="{{ banner.image.url }}" alt="Banner">
              </div>
            {% empty %}
              <p>Không có banner quảng cáo nào.</p>
            {% endfor %}
          </div>
        </div>
      </section>
      {% endblock %}


      
      <!-- Footer section Started -->

      <section class="footer">
        <div class="fcol col-4 ftrTopEle">
  
          <h4>Fashion Street</h4>
          <p>Fashion Street không chỉ là một phong trào thời trang; 
            đó là một sự kết hợp hoàn hảo giữa phong cách cá nhân và văn hóa đường phố. 
            Xuất phát từ những con phố sôi động, fashion street phản ánh lối sống năng động và sáng tạo của giới trẻ, 
            nơi mà mỗi người có thể tự do thể hiện bản thân qua trang phục!
          </p>
  
        </div>
        <div class="fcol col-4 ftrTopEle">
  
          <h4> Đường Dẫn Nhanh</h4>
  
          <ol>
            <li><a href="home"> Trang Chủ <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="Products"> Sản Phẩm <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href=""> Who are we? <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href=""> Liên Hệ <i class="fas fa-external-link-alt"></i></a></li>
          </ol>
        </div>
        
        <div class="fcol col-4 flink ftrTopEle">
  
          <h4>Theo Dõi Chúng Tôi</h4>
          <div class="icons">
            <a href="https://www.facebook.com" target="blank"> <i class="fab fa-facebook-f"> </i></a>
            <a href="https://www.youtube.com" target="blank"> <i class="fab fa-youtube"> </i></a>
  
          </div>
        </div>
        <hr>
        <div class="fcol col-6">
  
          <p> &copy; Designed by Orguss</p>
        </div>
      </section>
  
      <!-- Footer section Ended-->
  
      <script>
      $(".slider").owlCarousel({
        margin: 10,
        loop: true,
        autoplay: true,
        autoplayTimeout: 3000, //3000ms = 3s
        autoplayHoverPause: true,
        autoplaySpeed: 1000,
        smartSpeed: 1000,
        responsive: {
          0: {
            items: 1,
            nav: false
          },
          600: {
            items: 2,
            nav: false
          },
          1000: {
            items: 3,
            nav: true
          }
        }
      });
    </script>
  
      <!-- Linked to javascript file -->
      <script src="app/js/index.js "></script>
      <style>
        .content {
  display: flex;
  justify-content: space-between;
}

.card-content {
  padding: 10px; /* Thêm padding cho nội dung */
  display: flex;
  flex-direction: column; /* Sắp xếp theo chiều dọc */
  justify-content: flex-start; /* Căn chỉnh lên trên */
  flex-grow: 1; /* Để nội dung chiếm không gian còn lại */
  height: 150px; /* Chiều cao cố định cho nội dung */
}

.card-price,
.card-title,
.card-quantity {
  font-size: 14px; /* Giảm kích thước font cho các phần tử */
  margin: 2px 0; /* Giảm khoảng cách giữa các dòng */
}

.principle1 {
  background-color: Black; /* Màu nền */
  padding: 25px; /* Khoảng cách bên trong */
  padding-top: 5px;
  border-radius: 15px; /* Bo tròn góc */
  margin-left: 1%; /* Khoảng cách bên trái */
  margin-top: -5px; /* Khoảng cách trên */
  color: white; /* Màu chữ */
  font-weight: bold; /* Chữ đậm */
  width: 100%; /* Chiều rộng của ô mô tả */
  height 40%;
  display: flex; /* Sử dụng flexbox để căn chỉnh nội dung */
  flex-direction: column; /* Căn chỉnh các phần tử theo cột */
  align-items: flex-start; 
  justify-content: flex-start; /* Căn phần tử bên trong lên trên */
  overflow: hidden; /* Ẩn phần nội dung thừa nếu có */
  white-space: normal; /* Cho phép xuống dòng */
  font-size: 14px; /* Kích thước chữ nhỏ hơn (có thể điều chỉnh thêm nếu cần) */
}

.course-card img {
  width: 100%; /* Chiếm toàn bộ chiều rộng của khung */
  height: 100%; /* Chiều cao cố định */
  object-fit: cover; /* Cắt hình ảnh cho phù hợp với khung */
  border-radius: 8px;
}

.course-list {
  flex: 1; /* Chiếm phần còn lại của màn hình */
  margin-right: 20px; /* Khoảng cách với thanh slide */
  overflow: auto; /* Thêm scroll nếu cần */
}

.sidebar {
  width: 250px; /* Chiều rộng của thanh slide */
  background-color: #f5f5f5;
  padding: 10px;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.course-list ul {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 3 sản phẩm trên mỗi hàng */
  gap: 20px; /* Khoảng cách giữa các sản phẩm */
  list-style: none;
  padding: 0;
  margin: 0;
}



.course-list li.container {
  box-sizing: border-box;
  padding: 10px;
  background-color: #f5f5f5;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: relative;
}

.btn-tertiary {
  position: absolute; /* Đặt vị trí tuyệt đối */
  top: 10px; /* Cách từ trên cùng 10px */
  right: 10px; /* Cách từ bên phải 10px */
  padding: 6px 10px; /* Điều chỉnh kích thước nút */
  background-color: Black; /* Màu nâu */
  color: white; /* Màu chữ trắng */
  text-align: center;
  border-radius: 4px;
  text-decoration: none;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.view-all-container {
  display: flex;
  justify-content: center; /* Canh giữa nội dung theo chiều ngang */
  padding-top: 30px; /* Khoảng cách trên cho nút */
}

.btn-view-all {
  display: inline-block;
  padding: 10px 20px; /* Kích thước nút */
  background-color: #6F4C3E; /* Màu nâu đậm hơn */
  color: white; /* Màu chữ */
  border-radius: 4px; /* Bo tròn góc */
  text-decoration: none; /* Bỏ gạch chân */
  font-weight: bold; /* Chữ đậm */
  transition: background-color 0.3s, transform 0.3s; /* Hiệu ứng chuyển đổi */
}

.btn-view-all:hover {
  background-color: #8B4513; /* Màu nền khi hover */
  transform: scale(1.05); /* Tăng kích thước nhẹ khi hover */
}
      </style>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const descriptions = document.querySelectorAll('.principle1');
    
      descriptions.forEach(description => {
        const text = description.textContent.trim(); // Lấy văn bản mô tả
    
        // Lưu văn bản gốc vào một thuộc tính dữ liệu để có thể truy cập sau
        description.setAttribute('data-full-text', text);
    
        if (text.length > 100) {
          description.textContent = text.substring(0, 100) + '...'; // Cắt ngắn về 100 ký tự và thêm '...'
        }
      });
    });

    descriptions.forEach(description => {
      // Thêm sự kiện nhấp chuột
      description.addEventListener('click', function() {
        const fullText = this.getAttribute('data-full-text');
        alert(fullText); // Hoặc cách hiển thị khác như hiển thị trong một modal
      });
    });
  </script>
    </body>
  
  </html>